unit RecordsUnit;

interface

uses
    System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
    FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.StdCtrls,
    FMX.Controls.Presentation, System.Rtti, FMX.Grid.Style, FMX.ScrollBox, Mmsystem,
    FMX.Grid, LinkedList;

type

    TPlayer = record
        Name: String[11];
        Score: String[4];
    end;

    TRecordsForm = class(TForm)
        BackBtn: TButton;
        Label6: TLabel;
        PaceLbl: TLabel;
        ScoreValueLbl: TLabel;
        PlayerNameLbl: TLabel;
        procedure BackBtnClick(Sender: TObject);
        procedure FormCloseQuery(Sender: TObject; var CanClose: Boolean);
        procedure FormCreate(Sender: TObject);
        procedure FormShow(Sender: TObject);
    public
        RecordsFile: File of TPlayer;
        RecordsDataBase: array [0..4] of TPlayer;
    end;

var
    RecordsForm: TRecordsForm;

implementation

{$R *.fmx}

uses MainMenuUnit;

procedure TRecordsForm.BackBtnClick(Sender: TObject);
begin
    RecordsForm.Close;
end;

procedure TRecordsForm.FormCloseQuery(Sender: TObject; var CanClose: Boolean);
begin
    StartMenu.Show;
end;

procedure TRecordsForm.FormCreate(Sender: TObject);
begin
    AssignFile(RecordsFile, 'DontTouch.PRF');
end;

procedure TRecordsForm.FormShow(Sender: TObject);
var
    i: ShortInt;
    Temp: TPlayer;
begin
    Reset(RecordsFile);
    PlayerNameLbl.Text := '';
    ScoreValueLbl.Text := '';
    for i := 0 to 4 do
        if not(Eof(RecordsFile)) then
        begin
            Read(RecordsFile, Temp);
            PlayerNameLbl.Text := PlayerNameLbl.Text + Temp.Name + #13#10;
            ScoreValueLbl.Text := ScoreValueLbl.Text + Temp.Score + #13#10;
        end
        else
        begin
            PlayerNameLbl.Text := PlayerNameLbl.Text + '............' + #13#10;
            ScoreValueLbl.Text := ScoreValueLbl.Text + '0000' + #13#10;
        end;
    CloseFile(RecordsFile);
end;

end.
